<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    /*
        JS中的内置类 ： Array Number Function RegExp Date Object

        字面量          var ary = []
        构造函数        var ary = new Array();
        //JS中 万物皆对象
        自定义类 function A(){}
        自定义的实例只能通过 new 的方式创建
    JS中的常见设计模式
        单例模式    高级单例模式    工厂模式    构造函数模式 原型模式    
    
    */

    //单利模式  命名空间
    var obj = {
        name = 123,
        age = 234
    }
    //高级单利 闭包 比普通单利模式模式多了隐私空间
    var obj2 = (function () {
        var name = 222;
        var age = 333;
        function f() {
            console.log(name, age)
        }
        function changeAge(n) {
            age = n;
        }
        return {
            name,
            age,
            f,
            changeAge
        }
    })()
    obj2.name = 666;
    obj2.changeAge(100)
    obj2.f() // 222   100
    console.log(obj2.name, obj2.age)// 666  33


    //工厂模式 批量产生单利
    function factory(name,age,sex){
        var obj = {
            name,age,sex,
            eat(){},
            play(){}
        }
        return obj
    }
    //构造函数模式     通过new 的方式执行                     eslint
    function Person(name,age){
        this.name = name ;
        this.age = age ;
        this.eat = function (){

        }
        this.play = function (){

        }
    }
    var p1 = new Person('小明',100); //p1 是Person 类的一个实例
    //new 执行时：函数中的 this 就是当前创造的实例 默认返回值就是 this

    class Man{
        constructor(name,age){
            this.name = name ;
            this.age = age ;
        }
    }

    // 原型模式 在构造函数的基础上增加一个 原型（prototype）；原型其实就是一个堆内存
    function Women(name,age){
        this.name = name ;
        this.age = age ;
      
    }
    Women.prototype.eat = function(){
        console.log('玩');
    }
    Women.prototype.play = function(){
        console.log('paly');
    }
    var w1 = new Women('小孩',2);
    var w2 = new Women('西西',4);
    w1.eat === w2.eat;//实例 会通过 __proto__去访问所属类的原型；

    //作用域链 是变量的查找机制；
    //原型链    是属性的查找机制；先在再自己身上查找，没有的话 通过__proto__ 再去所属类的原型上查找,
    //      若所属类的原型上没有该属性，则通过__proto__去访问所属类的原型；在去原型所属类的原型上接着找，直到找到object类(基类)的原型上，在没有话 就是 undefinde
</script>