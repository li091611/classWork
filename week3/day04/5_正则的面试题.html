<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    // 一个字符中出现次数最多的字符；
    var str = 'qeqwewqeqwqeasdszcx'
    function getMax(str) {
        var obj = {};
        str.split('').forEach((e, i) => {
            if (obj.hasOwnProperty(e)) {
                obj[e] += 1;
            } else {
                obj[e] = 1;
            }
        });
        var val = Object.values(obj);
        var key = Object.keys(obj);
        var m = Math.max(...val);
        var n = key[val.indexOf(m)]
        return {
            n, m
        }
    }
    console.log(getMax(str));

    var reg = /(\d+?)\1/g;//回溯
    var str = '123123123123123'

    var str = 'qeqwewqeqwqeasdszcx'
    function getMax2(str) {
        str = str.split('').sort().join('');
        var reg = /(\w)\1*/g;
        var ary = str.match(reg);
        ary.sort((a, b) => {
            return b.length - a.length
        })
        return {
            key: ary[0][0],
            val: ary[0].length
        }
    }
    console.log(getMax2(str));

    var str = 'qeqwewqeqwqeasdszcx'
    function getMax3(str) {
        str = str.split('').sort().join('');
        var reg = /(\w)\1*/g;
        var s = '', n = 0;
        str.replace(reg, function (a, b) {
            if (a.length > n) {
                n = a.length;
                s = b;
            }
        })
        return {
            key: s,
            val: n
        }
    }
    console.log(getMax3(str));

    //大小写翻转
    str.toLowerCase
    var str = 'sadsSfasASAHJSA';

    function turn(str) {
        // return str.replace(/\w/g,function(a){
        //     return a.toLowerCase() == a ? a.toUpperCase() : a.toLowerCase()
        // })

        var reg = /([A-Z]*)|([a-z]*)/g;
        return str.replace(reg, function (a, b, c) {
            console.log(a, b, c);

            return b.toLowerCase() + c.toUpperCase()
        })
    }

    //3 数字转大写
    var str = '今年是2017年';
    var ary = ['零', '壹', '贰', '叁', '肆', '伍', '陆', '柒', '捌', '玖', '拾'];
    str.replace(/\d/g, function (n) {
        return ary[n]
    })
    // 4、模板引擎
    var str = '姓名是：{{name}}，年龄是：{{age}}，性别是{{sex}}';
    var data = {
        name: "小明",
        age: 10,
        sex: "男"
    }
    function formate(template, data) {
        var reg = /\{\{(\w+)\}\}/g;
        return template.replace(reg, function (a, b) {
            return data[b]
        })
    }
    //5日期格式化
    var str = '今天是{{year}}年{{moth}}月{{data}}日'
    function formateTime(str) {
        let time = new Date();
        let year = time.getFullYear();
        let moth = time.getMonth() + 1;
        let data = time.getDate();
        let reg = /\{\{(\w+)\}\}/g;
        return str.replace(reg, function (a, b) {
            return eval(b)
        })
    }
    //6千分符
    var str = '123456'
    function formateMoney(str){
        str = str.split('').reverse().join('')
        let s = '';
        for(let i = 0; i < str.length ; i++){
            i%3 == 2 ? s+=str[i]+',' : s+=str[i]
        }
        s = s.split('').reverse().join('')
        return s.replace(/^,/,'')
    }

    function formateMoney2(str) {
        // var reg = /(\d{1,3})(?=(\d{3})+$)/g;
        // return str.replace(reg,'$1,')
        var reg = /\d{1,3}(?=(\d{3})+$)/g;
        return str.replace(reg, function (a) {
            return a + ','
        })
    }
    function formateMoney3(str) {
        // var reg = /(\d{1,3})(?=(\d{3})+$)/g;
        // return str.replace(reg,'$1,')
        var reg = /\d{1,3}(?=(\d{3})+$)/g;
        return str.replace(reg, function (a) {
            return a + ','
        })
    }
</script>